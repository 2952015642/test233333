{% extends "site_base.html" %}

{% load cache %}
{% load i18n %}
{% load ifsetting_tag %}
{% load package_tags %}

{% block extra_head %}
    <link rel="stylesheet" href="{{ STATIC_URL }}css/home.css" />
{% endblock %}

{% block head_title %}{% trans "django reusable apps, sites and tools directory" %}{% endblock %}

{% block body_class %}home{% endblock %}

{% block body %}
    <div id="home-rightcol">
        <div id="home-borderlessbox">
            <h2>latest 5</h2>
            <table>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            </table>
        </div>

        <div id="home-borderlessbox">
            <h2>random 5</h2>
            <table>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="home-numusers">XX</span>
                    <span class="home-users">users</span></td>
                <td>
                    <span class="home-packagename">packagename</span>
                    <span class="home-packagedesc">The description of the package, truncated to the end of the first sentence.</span>
                </td>
            </tr>
            </table>
        </div>
    </div>
     
    <div id="home-leftcol">
        <div id="home-borderlessbox">
            <p>Django Packages is a directory of reusable apps, sites, tools, and more for your Django projects.</p>
            <br/>
            <p><b>XX</b> packages and counting!</p>
            <form action="{% url search %}">
                <input id="id_q_p" type="text" name="q" maxlength="100" value="search" autocomplete="off" />
                <input id="magnifier-submit" type="submit" value="&nbsp;" /><br/>
                <input class="home-searchcheckbox" type="checkbox" name="category" value="apps" />apps
                <input class="home-searchcheckbox" type="checkbox" name="category" value="frameworks" />frameworks
                <input class="home-searchcheckbox" type="checkbox" name="category" value="projects" />projects
                <input class="home-searchcheckbox" type="checkbox" name="category" value="other" />other
            </form>
        </div>

        <div id="home-borderlessbox">
            <h2>We need your help</h2>
            <p>
                Know of any packages not listed here?  Add them now!  It's quick and easy.
            </p>
            <p>
                <a class="large awesome forestgreen" href="{% url add_package %}">add package »</a>
            </p>
            <p>
                Or add a grid comparing the features of 2 or more similar packages.
            </p>
            <p>
                <a class="large awesome forestgreen" href="{% url add_grid %}">add grid »</a>
            </p>
        </div>

        <div id="home-borderlessbox">
            <h2>Package Categories</h2>
             {% for category in categories %}
                <h3><a href="{% url category category.slug %}">{{ category.title_plural }}</a> ( {{ category.count }} )</h3>
                <p>{{ category.description }}</p>
             {% endfor %}
        </div>
    </div>
    

{% endblock %}

{% block extra_body %}
<script type="text/javascript">
    $(function() {          
        $('input#id_q_p').click(function() {
            $("input#id_q_p").val('');
        });                        
    });    

    $('#id_q_p').autocomplete({
      source: '{% url search_packages_autocomplete %}',
      minLength: 1,
      open: function(event, ui) { 
        ac_top = $('.ui-autocomplete').css('top'); 
        $('.ui-autocomplete').css({'width': '250px', 'top': ac_top + 10 }); 
      }
    });
    
</script>      
{% endblock %}      
